"use strict";!function(){var e=document.querySelector(".share-wrap"),t=document.getElementById("wx-qrcode"),n=document.getElementById("qq-qrcode"),o=document.getElementById("share-wechat"),a=document.getElementById("share-qq"),i=document.getElementById("share-weibo"),c=document.getElementById("copy"),r=document.getElementById("copy-button"),l=location.pathname.replace(/^\/support\//,"").replace(/\/(index.html)?$/,"").split("/").filter((function(e){return e})).join("--").replace(/\.html$/,"");function u(e){window.pgvSendClick({hottag:e,virtualDomain:"nintendoswitchcn.qq.com"})}var s,d,p,m,h,f,g;function y(e,t){var n=document,o=n.head||n.getElementsByTagName("head")[0]||n.documentElement,a=n.createElement("script");a.onload=t,a.onerror=function(){},a.async=!0,a.src=e[0],o.appendChild(a)}function w(e){var t=c,n=document.getElementById("popbox-share"),o=document.getElementById("popbox-bg"),a=document.getElementById("popbox-share-input"),i=document.getElementById("copy-button"),r=document.getElementById("tips");a.value=e.url,t&&(t.addEventListener("click",(function(e){o.style.display="block",n.style.display="block"})),o.addEventListener("click",(function(){o.style.display="none",n.style.display="none"})),o.addEventListener("touchmove",(function(e){e.stopPropagation(),e.preventDefault()})),n.addEventListener("touchmove",(function(e){"INPUT"!==e.target.tagName&&(e.stopPropagation(),e.preventDefault())})),i.addEventListener("click",(function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;r.style.display="block",r.children[0].innerText=e,setTimeout((function(){r.style.display="none"}),t)}(function(e){var t=document.createElement("input");document.body.appendChild(t),t.setAttribute("value",e),t.setAttribute("readonly","readonly"),t.select(),t.setSelectionRange(0,e.length);var n=document.execCommand("copy");return document.body.removeChild(t),n}(a.value)?"已复制链接到粘贴板":"复制失败，请手动复制粘贴")})))}s={title:document.title,summary:"来自腾讯 Nintendo Switch 官网技术支持",pic:"https://www.nintendoswitch.com.cn/support/common/v2/img/gheader/logo_switch.png",url:location.href},d=!!e,m=navigator.userAgent,h=m.match(/MicroMessenger\/([\d\.]+)/),f=m.match(/QQ\/([\d\.]+)/),g=m.indexOf("Qzone/")>=0,h?(p=s,y(["//res.wx.qq.com/open/js/jweixin-1.4.0.js"],(function(){fetch("/api/web/official_website/get_jssdk_signature?url=".concat(encodeURIComponent(location.href))).then((function(e){return e.json()})).then((function(e){if(0===e.result.error_code){var t=window.wx,n=e.data||{};t.config({appId:"wx969355d3e1b4d7f7",timestamp:n.timestamp,nonceStr:n.nonce_str,signature:n.signature,jsApiList:["updateAppMessageShareData","updateTimelineShareData","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareQZone","onMenuShareWeibo"]}),t.ready((function(){var e={title:p.title,desc:p.summary,link:p.wxUrl||p.url,imgUrl:p.pic,type:p.type||"",dataUrl:p.dataUrl||"",success:function(){p.callback&&p.callback()},cancel:function(){}};t.updateAppMessageShareData(e),t.updateTimelineShareData(e),t.onMenuShareAppMessage(e),t.onMenuShareQQ(e),t.onMenuShareQZone(e),t.onMenuShareWeibo(e),n.swapTitleInWX?t.onMenuShareTimeline({title:p.summary,link:p.wxUrl||p.url,imgUrl:p.pic,success:function(){p.callback&&p.callback()},cancel:function(){}}):t.onMenuShareTimeline(e)}))}}))}))):f?function(e){var t={title:e.title,desc:e.summary,share_url:e.url,image_url:e.pic};function n(){try{e.callback?window.mqq.ui.setOnShareHandler((function(n){3===n&&(e.swapTitle||e.WXconfig&&e.WXconfig.swapTitleInWX)?t.title=e.summary:t.title=e.title,t.share_type=n,t.back=!0,window.mqq.ui.shareMessage(t,(function(t){0===t.retCode&&e.callback&&e.callback.call(this,t)}))})):window.mqq.data.setShareInfo(t)}catch(e){}}window.mqq?n():y(["//open.mobile.qq.com/sdk/qqapi.js?_bid=152"],(function(){n()}))}(s):g&&function(e){function t(){if(window.QZAppExternal&&window.QZAppExternal.setShare){for(var t=[],n=[],o=[],a=[],i=0;i<5;i++)t.push(e.pic),a.push(e.url),4===i&&(e.swapTitle||e.WXconfig&&e.WXconfig.swapTitleInWX)?(n.push(e.summary),o.push(e.title)):(n.push(e.title),o.push(e.summary));window.QZAppExternal.setShare((function(){}),{type:"share",image:t,title:n,summary:o,shareURL:a})}}window.QZAppExternal?t():y(["//qzonestyle.gtimg.cn/qzone/phone/m/v4/widget/mobile/jsbridge.js?_bid=339"],(function(){t()}))}(s),d&&(function(e){i&&(i.href="https://service.weibo.com/share/share.php?url=".concat(encodeURIComponent(e.url),"\n    &title=").concat(e.title,"&pic=").concat(e.pic,"&searchPic=false"))}(s),w(s)),document.addEventListener("click",(function(){})),e&&(o.addEventListener("mouseenter",(function(){return u("support.shareWechat.".concat(l,".mouseover"))})),a.addEventListener("mouseenter",(function(){return u("support.shareQQ.".concat(l,".mouseover"))})),i.addEventListener("click",(function(){return u("support.shareWeibo.".concat(l,".click"))})),c.addEventListener("click",(function(){return u("support.shareLink.".concat(l,".click"))})),r.addEventListener("click",(function(){return u("support.shareClipboard.".concat(l,".click"))})),new QRCode(t,{text:location.href}),new QRCode(n,{text:location.href}))}();